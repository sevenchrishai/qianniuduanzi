
<wxs src="../../utils/filter.wxs" module="filter" />
<!-- 文本 -->
<template name="joke_tpl">
	<view class="list-item">
		<view class="item-header">
			<view class="header-img">
				<image src="{{item.header || '../../images/duanzi-actived.png'}}" lazy-load="true"></image>
			</view>
			<view class="header-title">
				<view class="header-name">{{item.name}}</view>
				<view class="header-time">{{filter.dateFormatStr(item.passtime)}}</view>
			</view>
		</view>
		<view class="item-body">
			<text>{{item.text}}</text>
		</view>
		<block wx:if="{{item.top_comments_content}}">
			<view class="item-comment">
				<view>
					<text class="godComment">神评</text>
					<text>{{item.top_comments_content}}</text>
				</view>
			</view>
		</block>
	</view>
</template>

<!-- 图片 -->
<template name="pic_tpl">
	<view class="list-item">
		<view class="item-header">
			<view class="header-img">
				<image src="{{item.header || '../../images/duanzi-actived.png'}}" lazy-load="true"></image>
			</view>
			<view class="header-title">
				<view class="header-name">{{item.name}}</view>
				<view class="header-time">{{filter.dateFormatStr(item.passtime)}}</view>
			</view>
		</view>
		<view class="item-body">
			<view>{{item.text}}</view>
			<image class="body-img" src="{{item.images || '../../images/duanzi-actived.png'}}"
				   lazy-load="true" mode="widthFix"></image>
		</view>
		<block wx:if="{{item.top_comments_content}}">
			<view class="item-comment">
				<view>
					<text class="godComment">神评</text>
					<text>{{item.top_comments_content}}</text>
				</view>
			</view>
		</block>
	</view>
</template>

<!-- 视频 -->
<template name="video_tpl">
	<view class="list-item">
		<view class="item-header">
			<view class="header-img">
				<image src="{{item.header || '../../images/duanzi-actived.png'}}" lazy-load="true"></image>
			</view>
			<view class="header-title">
				<view class="header-name">{{item.name}}</view>
				<view class="header-time">{{filter.dateFormatStr(item.passtime)}}</view>
			</view>
		</view>
		<view class="item-body">
			<view>{{item.text}}</view>
			<video class="body-img" src="{{item.video}}"></video>
		</view>
		<block wx:if="{{item.top_comments_content}}">
			<view class="item-comment">
				<view>
					<text class="godComment">神评</text>
					<text>{{item.top_comments_content}}</text>
				</view>
			</view>
		</block>
	</view>
</template>

<template name="rec_list">
	<scroll class="scroll-box" scroll-y="true" upper-threshold="50" lower-threshold="50">
		<template is="{{item.url ? 'pic_tpl' : 'joke_tpl'}}" data="{{item}}" wx:for="{{req}}"></template>
	</scroll>
</template>